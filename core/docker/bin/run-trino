#!/bin/bash

set -xeuo pipefail

NODE_ID=""
if ! grep -s -q 'node.id' /etc/trino/node.properties; then
    NODE_ID="-Dnode.id=${HOSTNAME}"
fi

exec /usr/lib/trino/bin/launcher run --etc-dir /etc/trino "${NODE_ID}" "$@"
